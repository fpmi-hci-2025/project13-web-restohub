<div class="container py-4 text-white addresses-page">
  <div class="d-flex align-items-center justify-content-between mb-4">
    <div>
      <% if @addresses.any? %>
        <%= button_to t('addresses.delete_all'),
                      destroy_all_addresses_path(locale: I18n.locale),
                      method: :delete,
                      data: { confirm: t('addresses.delete_all_confirm') },
                      class: "btn btn-outline-danger btn-sm" %>
      <% end %>
    </div>

    <h2 class="mb-0 text-center flex-grow-1">
      <%= t('addresses.title') %>
    </h2>

    <div class="text-end">
      <%= link_to t('addresses.back_to_profile'),
                  profile_path(locale: I18n.locale),
                  class: "btn btn-outline-secondary btn-sm" %>
    </div>
  </div>

  <% if @addresses.any? %>
    <div class="addresses-list mb-4">
      <% @addresses.each do |address| %>
        <div class="address-card card bg-dark border-0 rounded-4 mb-3 p-3 d-flex flex-row justify-content-between">
          <div>
            <div class="address-text">
              <%= address.full_address %>
            </div>
            <% if address.is_default? %>
              <span class="badge bg-warning text-dark mt-1">
                <%= t('addresses.default') %>
              </span>
            <% end %>
          </div>

          <div class="d-flex align-items-center">
            <%= link_to t('addresses.edit'),
                        edit_address_path(address, locale: I18n.locale),
                        class: "btn btn-outline-light btn-sm me-2" %>

            <%= button_to t('addresses.delete'),
                          address_path(address, locale: I18n.locale),
                          method: :delete,
                          data: { confirm: t('addresses.delete_confirm') },
                          class: "btn btn-outline-danger btn-sm" %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-white-50 mb-4">
      <%= t('addresses.empty') %>
    </p>
  <% end %>

  <div class="card bg-dark border-0 rounded-4 p-4" id="new-address">
    <h5 class="mb-3"><%= t('addresses.new_title') %></h5>
    <%= render "form", address: @address %>
  </div>
</div>
